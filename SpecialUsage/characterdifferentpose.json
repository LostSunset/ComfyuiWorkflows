{
  "last_node_id": 284,
  "last_link_id": 574,
  "nodes": [
    {
      "id": 190,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        1840,
        -130
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            346
          ],
          "shape": 3
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider"
      },
      "widgets_values": [
        "bbox/face_yolov8m.pt"
      ]
    },
    {
      "id": 226,
      "type": "SEGSOrderedFilterDetailerHookProvider",
      "pos": [
        1830,
        0
      ],
      "size": {
        "0": 315,
        "1": 130
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {
          "name": "DETAILER_HOOK",
          "type": "DETAILER_HOOK",
          "links": [
            425
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SEGSOrderedFilterDetailerHookProvider"
      },
      "widgets_values": [
        "area(=w*h)",
        true,
        0,
        1
      ]
    },
    {
      "id": 191,
      "type": "FaceDetailer",
      "pos": [
        2200,
        -110
      ],
      "size": {
        "0": 400,
        "1": 900
      },
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 530
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": null,
          "slot_index": 1
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": null,
          "slot_index": 2
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null,
          "slot_index": 3
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 461
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 470
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 346,
          "slot_index": 6
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "link": null
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "link": null
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "link": 425,
          "slot_index": 9
        },
        {
          "name": "scheduler_func_opt",
          "type": "SCHEDULER_FUNC",
          "link": null
        },
        {
          "name": "seed",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "seed"
          }
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            505
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "cropped_refined",
          "type": "IMAGE",
          "links": null,
          "shape": 6
        },
        {
          "name": "cropped_enhanced_alpha",
          "type": "IMAGE",
          "links": null,
          "shape": 6
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null,
          "shape": 3
        },
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": null,
          "shape": 3
        },
        {
          "name": "cnet_images",
          "type": "IMAGE",
          "links": null,
          "shape": 6
        }
      ],
      "properties": {
        "Node name for S&R": "FaceDetailer"
      },
      "widgets_values": [
        384,
        true,
        1024,
        531495665319923,
        "fixed",
        12,
        3,
        "dpmpp_sde",
        "AYS SD1",
        0.35000000000000003,
        5,
        true,
        true,
        0.4,
        10,
        3,
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False",
        10,
        "",
        1,
        false,
        20
      ]
    },
    {
      "id": 269,
      "type": "IPAdapterBatch",
      "pos": [
        1090,
        170
      ],
      "size": {
        "0": 315,
        "1": 278
      },
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 531
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": 533
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 534
        },
        {
          "name": "image_negative",
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "attn_mask",
          "type": "MASK",
          "link": null
        },
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            553
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterBatch"
      },
      "widgets_values": [
        1,
        "weak input",
        0,
        1,
        "K+mean(V) w/ C penalty",
        0
      ]
    },
    {
      "id": 242,
      "type": "IPAdapterUnifiedLoader",
      "pos": [
        1110,
        50
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 547
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            531
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "links": [
            533
          ],
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterUnifiedLoader"
      },
      "widgets_values": [
        "PLUS (high strength)"
      ]
    },
    {
      "id": 238,
      "type": "CLIPTextEncode",
      "pos": [
        1850,
        180
      ],
      "size": {
        "0": 270,
        "1": 110
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            461
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "detailed face,beautiful face,"
      ]
    },
    {
      "id": 239,
      "type": "Efficient Loader",
      "pos": [
        -390,
        -130
      ],
      "size": {
        "0": 300,
        "1": 590
      },
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "link": null
        },
        {
          "name": "cnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": null
        },
        {
          "name": "positive",
          "type": "STRING",
          "link": 571,
          "widget": {
            "name": "positive"
          }
        },
        {
          "name": "empty_latent_width",
          "type": "INT",
          "link": 566,
          "widget": {
            "name": "empty_latent_width"
          }
        },
        {
          "name": "empty_latent_height",
          "type": "INT",
          "link": 567,
          "widget": {
            "name": "empty_latent_height"
          }
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            492
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [
            494,
            518
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [
            470,
            529,
            555
          ],
          "shape": 3,
          "slot_index": 2
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            556
          ],
          "shape": 3,
          "slot_index": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            467
          ],
          "shape": 3,
          "slot_index": 4
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            466
          ],
          "shape": 3,
          "slot_index": 5
        },
        {
          "name": "DEPENDENCIES",
          "type": "DEPENDENCIES",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "Efficient Loader"
      },
      "widgets_values": [
        "henmixReal_v6b.safetensors",
        "vae-ft-mse-840000-ema-pruned.safetensors",
        -2,
        "hypersd\\Hyper-SD15-12steps-CFG-lora.safetensors",
        1,
        1,
        "CLIP_POSITIVE",
        "nsfw, lowres, (bad), text, error, fewer, extra, missing, worst quality, jpeg artifacts, low quality, watermark, unfinished, displeasing, oldest, early, chromatic aberration, signature, extra digits, artistic error, username, scan, [abstract]",
        "none",
        "comfy",
        1024,
        1024,
        2
      ],
      "color": "#222233",
      "bgcolor": "#333355",
      "shape": 1
    },
    {
      "id": 200,
      "type": "Anything Everywhere3",
      "pos": [
        250,
        -80
      ],
      "size": {
        "0": 210,
        "1": 66
      },
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "MODEL",
          "type": "*",
          "link": 492,
          "color_on": "#B39DDB"
        },
        {
          "name": "CLIP",
          "type": "*",
          "link": 466,
          "color_on": "#FFD500"
        },
        {
          "name": "VAE",
          "type": "*",
          "link": 467,
          "color_on": "#FF6E6E"
        }
      ],
      "title": "TheFinalToSampler",
      "properties": {
        "Node name for S&R": "Anything Everywhere3",
        "group_restricted": 0,
        "color_restricted": 0
      },
      "widgets_values": []
    },
    {
      "id": 278,
      "type": "GetImageSizeAndCount",
      "pos": [
        240,
        60
      ],
      "size": {
        "0": 210,
        "1": 86
      },
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 565
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": null,
          "shape": 3
        },
        {
          "name": "768 width",
          "type": "INT",
          "links": [
            566
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "768 height",
          "type": "INT",
          "links": [
            567
          ],
          "shape": 3,
          "slot_index": 2
        },
        {
          "name": "1 count",
          "type": "INT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageSizeAndCount"
      }
    },
    {
      "id": 261,
      "type": "Simple String",
      "pos": [
        -840,
        590
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            515
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Simple String"
      },
      "widgets_values": [
        "masterpiece, best quality, very aesthetic, absurdres"
      ]
    },
    {
      "id": 260,
      "type": "CR Text Concatenate",
      "pos": [
        -840,
        420
      ],
      "size": {
        "0": 300,
        "1": 90
      },
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "text1",
          "type": "STRING",
          "link": 515,
          "widget": {
            "name": "text1"
          }
        },
        {
          "name": "text2",
          "type": "STRING",
          "link": 572,
          "widget": {
            "name": "text2"
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "*",
          "links": [
            571
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CR Text Concatenate"
      },
      "widgets_values": [
        "",
        "",
        ""
      ]
    },
    {
      "id": 274,
      "type": "DWPreprocessor",
      "pos": [
        1860,
        1210
      ],
      "size": {
        "0": 315,
        "1": 198
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 563
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            558
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "DWPreprocessor"
      },
      "widgets_values": [
        "enable",
        "enable",
        "enable",
        512,
        "yolox_l.onnx",
        "dw-ll_ucoco_384_bs5.torchscript.pt"
      ]
    },
    {
      "id": 283,
      "type": "Note",
      "pos": [
        1860,
        1640
      ],
      "size": {
        "0": 300,
        "1": 80
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Switch 1 Pose image by DWpose\nSwitch 2 Example Pose (No DWPose)"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 235,
      "type": "JWImageResizeByLongerSide",
      "pos": [
        2090,
        1070
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 438
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            439,
            563
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "JWImageResizeByLongerSide"
      },
      "widgets_values": [
        512,
        "bicubic"
      ]
    },
    {
      "id": 134,
      "type": "EmptyLatentImage",
      "pos": [
        2210,
        1400
      ],
      "size": {
        "0": 320,
        "1": 110
      },
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "width",
          "type": "INT",
          "link": 444,
          "widget": {
            "name": "width"
          }
        },
        {
          "name": "height",
          "type": "INT",
          "link": 445,
          "widget": {
            "name": "height"
          }
        },
        {
          "name": "batch_size",
          "type": "INT",
          "link": 437,
          "widget": {
            "name": "batch_size"
          }
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            528
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        512,
        512,
        4
      ]
    },
    {
      "id": 252,
      "type": "ControlNetApply",
      "pos": [
        2230,
        1560
      ],
      "size": {
        "0": 317.4000244140625,
        "1": 98
      },
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 494
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 496
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 560
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            527
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApply"
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 254,
      "type": "DiffControlNetLoader",
      "pos": [
        2230,
        1740
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            496
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DiffControlNetLoader"
      },
      "widgets_values": [
        "control_v11p_sd15_openpose.pth"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 284,
      "type": "Fast Groups Bypasser (rgthree)",
      "pos": {
        "0": -840,
        "1": -430,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 250,
        "1": 150
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "OPT_CONNECTION",
          "type": "*",
          "links": null
        }
      ],
      "properties": {
        "matchColors": "",
        "matchTitle": "",
        "showNav": true,
        "sort": "position",
        "customSortAlphabet": "",
        "toggleRestriction": "default"
      }
    },
    {
      "id": 279,
      "type": "HighRes-Fix Script",
      "pos": [
        1120,
        520
      ],
      "size": [
        260,
        350
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "script",
          "type": "SCRIPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "SCRIPT",
          "type": "SCRIPT",
          "links": [
            568
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "HighRes-Fix Script"
      },
      "widgets_values": [
        "latent",
        "(use same)",
        "nearest-exact",
        "4x-UltraSharp.pth",
        2,
        true,
        660352357290808,
        null,
        8,
        0.56,
        1,
        true,
        "control_v11f1e_sd15_tile_fp16.safetensors",
        1,
        "none",
        false
      ],
      "color": "#443322",
      "bgcolor": "#665533",
      "shape": 1
    },
    {
      "id": 267,
      "type": "KSampler (Efficient)",
      "pos": [
        1420,
        480
      ],
      "size": {
        "0": 320,
        "1": 400
      },
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 553
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 527
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 529
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 528
        },
        {
          "name": "optional_vae",
          "type": "VAE",
          "link": null
        },
        {
          "name": "script",
          "type": "SCRIPT",
          "link": 568,
          "slot_index": 5
        },
        {
          "name": "seed",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "seed"
          }
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": null,
          "shape": 3
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": null,
          "shape": 3
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": null,
          "shape": 3
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": null,
          "shape": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": null,
          "shape": 3
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            530
          ],
          "shape": 3,
          "slot_index": 5
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler (Efficient)"
      },
      "widgets_values": [
        43746893450346,
        null,
        12,
        5,
        "dpmpp_sde",
        "AYS SD1",
        1,
        "none",
        "true"
      ],
      "color": "#223322",
      "bgcolor": "#335533",
      "shape": 1
    },
    {
      "id": 233,
      "type": "ImpactMakeImageBatch",
      "pos": [
        1800,
        1080
      ],
      "size": {
        "0": 140,
        "1": 110
      },
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 440
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 441
        },
        {
          "name": "image3",
          "type": "IMAGE",
          "link": 442
        },
        {
          "name": "image4",
          "type": "IMAGE",
          "link": 443
        },
        {
          "name": "image5",
          "type": "IMAGE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            438,
            559
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImpactMakeImageBatch"
      }
    },
    {
      "id": 234,
      "type": "GetImageSizeAndCount",
      "pos": [
        2210,
        1210
      ],
      "size": {
        "0": 210,
        "1": 86
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 439
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "512 width",
          "type": "INT",
          "links": [
            444
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "512 height",
          "type": "INT",
          "links": [
            445
          ],
          "shape": 3,
          "slot_index": 2
        },
        {
          "name": "4 count",
          "type": "INT",
          "links": [
            437
          ],
          "shape": 3,
          "slot_index": 3
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageSizeAndCount"
      }
    },
    {
      "id": 275,
      "type": "ImpactSwitch",
      "pos": [
        1910,
        1470
      ],
      "size": {
        "0": 210,
        "1": 122
      },
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "input1",
          "type": "IMAGE",
          "link": 558
        },
        {
          "name": "input2",
          "type": "IMAGE",
          "link": 559
        },
        {
          "name": "input3",
          "type": "IMAGE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            560,
            561
          ],
          "shape": 3,
          "label": "IMAGE",
          "slot_index": 0
        },
        {
          "name": "selected_label",
          "type": "STRING",
          "links": null,
          "shape": 3
        },
        {
          "name": "selected_index",
          "type": "INT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ImpactSwitch"
      },
      "widgets_values": [
        2,
        true
      ]
    },
    {
      "id": 48,
      "type": "LoadImage",
      "pos": [
        1070,
        1040
      ],
      "size": {
        "0": 341.2705383300781,
        "1": 396.82061767578125
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            440
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "title": "Pose",
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "sitting_01 (1).png",
        "image"
      ]
    },
    {
      "id": 223,
      "type": "LoadImage",
      "pos": [
        1430,
        1050
      ],
      "size": [
        320,
        310
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            422,
            441
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "dance_05.png",
        "image"
      ]
    },
    {
      "id": 225,
      "type": "LoadImage",
      "pos": [
        1420,
        1430
      ],
      "size": {
        "0": 320,
        "1": 310
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            424,
            443
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "sitting_05.png",
        "image"
      ]
    },
    {
      "id": 224,
      "type": "LoadImage",
      "pos": [
        1070,
        1480
      ],
      "size": {
        "0": 320,
        "1": 310
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            442
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "sitting_15.png",
        "image"
      ]
    },
    {
      "id": 270,
      "type": "StyleAlignedBatchAlign_",
      "pos": [
        1110,
        -120
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            547
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "StyleAlignedBatchAlign_"
      },
      "widgets_values": [
        "group",
        "q+k",
        1
      ]
    },
    {
      "id": 245,
      "type": "PreviewImage",
      "pos": [
        2730,
        -140
      ],
      "size": {
        "0": 1810,
        "1": 2000
      },
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 505
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 273,
      "type": "KSampler (Efficient)",
      "pos": [
        -60,
        -110
      ],
      "size": [
        260,
        560
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": null
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 554
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 555
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 556
        },
        {
          "name": "optional_vae",
          "type": "VAE",
          "link": null
        },
        {
          "name": "script",
          "type": "SCRIPT",
          "link": null
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 574,
          "widget": {
            "name": "seed"
          }
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": null,
          "shape": 3
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": null,
          "shape": 3
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": null,
          "shape": 3
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": null,
          "shape": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": null,
          "shape": 3
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            564
          ],
          "shape": 3,
          "slot_index": 5
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler (Efficient)"
      },
      "widgets_values": [
        599594837523,
        null,
        12,
        5,
        "dpmpp_sde",
        "AYS SD1",
        1,
        "auto",
        "true"
      ],
      "color": "#443322",
      "bgcolor": "#665533",
      "shape": 1
    },
    {
      "id": 262,
      "type": "Seed Everywhere",
      "pos": [
        -30,
        490
      ],
      "size": {
        "0": 250,
        "1": 82
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            574
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Seed Everywhere",
        "group_restricted": 0,
        "color_restricted": 0
      },
      "widgets_values": [
        636819344990500,
        "fixed"
      ]
    },
    {
      "id": 277,
      "type": "ImageFromBatch",
      "pos": [
        -380,
        530
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 561
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            562,
            565
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageFromBatch"
      },
      "widgets_values": [
        2,
        1
      ]
    },
    {
      "id": 264,
      "type": "ControlNetLoader",
      "pos": [
        -370,
        670
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            517
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "control_v11p_sd15_openpose.pth"
      ]
    },
    {
      "id": 263,
      "type": "ControlNetApply",
      "pos": [
        90,
        610
      ],
      "size": {
        "0": 317.4000244140625,
        "1": 98
      },
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 518
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 517,
          "slot_index": 1
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 562
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            554
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApply"
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 255,
      "type": "Preview Chooser",
      "pos": [
        560,
        -90
      ],
      "size": {
        "0": 450,
        "1": 660
      },
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 564
        },
        {
          "name": "latents",
          "type": "LATENT",
          "link": null
        },
        {
          "name": "masks",
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            534
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "latents",
          "type": "LATENT",
          "links": null,
          "shape": 3
        },
        {
          "name": "masks",
          "type": "MASK",
          "links": null,
          "shape": 3
        },
        {
          "name": "selected",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "Preview Chooser"
      },
      "widgets_values": [
        "Always pause",
        1,
        "",
        ""
      ]
    },
    {
      "id": 281,
      "type": "IF_PromptMkr",
      "pos": [
        -870,
        -120
      ],
      "size": {
        "0": 390,
        "1": 460
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "Question",
          "type": "STRING",
          "links": null,
          "shape": 3
        },
        {
          "name": "Response",
          "type": "STRING",
          "links": [
            572
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "Negative",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "IF_PromptMkr"
      },
      "widgets_values": [
        "a Chinese girl with long black stright hair wearing pink wedding dress,surrounded by decorative items and flowers.",
        "localhost",
        "11434",
        "ollama",
        "impactframes/ifai_promptmkr_dolphin_phi3:latest",
        "IF_PromptMKR",
        "None",
        "None",
        "None",
        0.7,
        256,
        1003437281766942,
        "fixed",
        false,
        false
      ]
    }
  ],
  "links": [
    [
      346,
      190,
      0,
      191,
      6,
      "BBOX_DETECTOR"
    ],
    [
      375,
      4,
      2,
      8,
      1,
      "VAE"
    ],
    [
      376,
      198,
      0,
      3,
      0,
      "MODEL"
    ],
    [
      377,
      199,
      0,
      6,
      0,
      "CLIP"
    ],
    [
      378,
      199,
      0,
      7,
      0,
      "CLIP"
    ],
    [
      422,
      223,
      0,
      222,
      0,
      "IMAGE"
    ],
    [
      424,
      225,
      0,
      222,
      1,
      "IMAGE"
    ],
    [
      425,
      226,
      0,
      191,
      9,
      "DETAILER_HOOK"
    ],
    [
      437,
      234,
      3,
      134,
      2,
      "INT"
    ],
    [
      438,
      233,
      0,
      235,
      0,
      "IMAGE"
    ],
    [
      439,
      235,
      0,
      234,
      0,
      "IMAGE"
    ],
    [
      440,
      48,
      0,
      233,
      0,
      "IMAGE"
    ],
    [
      441,
      223,
      0,
      233,
      1,
      "IMAGE"
    ],
    [
      442,
      224,
      0,
      233,
      2,
      "IMAGE"
    ],
    [
      443,
      225,
      0,
      233,
      3,
      "IMAGE"
    ],
    [
      444,
      234,
      1,
      134,
      0,
      "INT"
    ],
    [
      445,
      234,
      2,
      134,
      1,
      "INT"
    ],
    [
      447,
      216,
      0,
      6,
      0,
      "CLIP"
    ],
    [
      448,
      216,
      0,
      209,
      0,
      "CLIP"
    ],
    [
      449,
      216,
      0,
      7,
      0,
      "CLIP"
    ],
    [
      450,
      230,
      0,
      207,
      0,
      "MODEL"
    ],
    [
      451,
      4,
      2,
      8,
      1,
      "VAE"
    ],
    [
      461,
      238,
      0,
      191,
      4,
      "CONDITIONING"
    ],
    [
      466,
      239,
      5,
      200,
      1,
      "CLIP"
    ],
    [
      467,
      239,
      4,
      200,
      2,
      "VAE"
    ],
    [
      470,
      239,
      2,
      191,
      5,
      "CONDITIONING"
    ],
    [
      492,
      239,
      0,
      200,
      0,
      "MODEL"
    ],
    [
      494,
      239,
      1,
      252,
      0,
      "CONDITIONING"
    ],
    [
      496,
      254,
      0,
      252,
      1,
      "CONTROL_NET"
    ],
    [
      505,
      191,
      0,
      245,
      0,
      "IMAGE"
    ],
    [
      515,
      261,
      0,
      260,
      0,
      "STRING"
    ],
    [
      517,
      264,
      0,
      263,
      1,
      "CONTROL_NET"
    ],
    [
      518,
      239,
      1,
      263,
      0,
      "CONDITIONING"
    ],
    [
      527,
      252,
      0,
      267,
      1,
      "CONDITIONING"
    ],
    [
      528,
      134,
      0,
      267,
      3,
      "LATENT"
    ],
    [
      529,
      239,
      2,
      267,
      2,
      "CONDITIONING"
    ],
    [
      530,
      267,
      5,
      191,
      0,
      "IMAGE"
    ],
    [
      531,
      242,
      0,
      269,
      0,
      "MODEL"
    ],
    [
      533,
      242,
      1,
      269,
      1,
      "IPADAPTER"
    ],
    [
      534,
      255,
      0,
      269,
      2,
      "IMAGE"
    ],
    [
      535,
      239,
      5,
      238,
      0,
      "CLIP"
    ],
    [
      536,
      239,
      0,
      164,
      0,
      "MODEL"
    ],
    [
      537,
      239,
      4,
      8,
      1,
      "VAE"
    ],
    [
      538,
      239,
      0,
      254,
      0,
      "MODEL"
    ],
    [
      539,
      239,
      0,
      207,
      0,
      "MODEL"
    ],
    [
      540,
      262,
      0,
      207,
      5,
      "INT"
    ],
    [
      541,
      239,
      0,
      191,
      1,
      "MODEL"
    ],
    [
      542,
      239,
      5,
      191,
      2,
      "CLIP"
    ],
    [
      543,
      239,
      4,
      191,
      3,
      "VAE"
    ],
    [
      544,
      262,
      0,
      191,
      11,
      "INT"
    ],
    [
      545,
      239,
      4,
      267,
      4,
      "VAE"
    ],
    [
      546,
      239,
      0,
      242,
      0,
      "MODEL"
    ],
    [
      547,
      270,
      0,
      242,
      0,
      "MODEL"
    ],
    [
      553,
      269,
      0,
      267,
      0,
      "MODEL"
    ],
    [
      554,
      263,
      0,
      273,
      1,
      "CONDITIONING"
    ],
    [
      555,
      239,
      2,
      273,
      2,
      "CONDITIONING"
    ],
    [
      556,
      239,
      3,
      273,
      3,
      "LATENT"
    ],
    [
      558,
      274,
      0,
      275,
      0,
      "*"
    ],
    [
      559,
      233,
      0,
      275,
      1,
      "IMAGE"
    ],
    [
      560,
      275,
      0,
      252,
      2,
      "IMAGE"
    ],
    [
      561,
      275,
      0,
      277,
      0,
      "IMAGE"
    ],
    [
      562,
      277,
      0,
      263,
      2,
      "IMAGE"
    ],
    [
      563,
      235,
      0,
      274,
      0,
      "IMAGE"
    ],
    [
      564,
      273,
      5,
      255,
      0,
      "IMAGE"
    ],
    [
      565,
      277,
      0,
      278,
      0,
      "IMAGE"
    ],
    [
      566,
      278,
      1,
      239,
      3,
      "INT"
    ],
    [
      567,
      278,
      2,
      239,
      4,
      "INT"
    ],
    [
      568,
      279,
      0,
      267,
      5,
      "SCRIPT"
    ],
    [
      571,
      260,
      0,
      239,
      2,
      "STRING"
    ],
    [
      572,
      281,
      1,
      260,
      1,
      "STRING"
    ],
    [
      574,
      262,
      0,
      273,
      6,
      "INT"
    ]
  ],
  "groups": [
    {
      "title": "StartImage",
      "bounding": [
        -420,
        -200,
        910,
        960
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "FaceDetailer",
      "bounding": [
        1800,
        -210,
        830,
        1040
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "BatchPose",
      "bounding": [
        1060,
        970,
        1530,
        950
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "BatchAlign",
      "bounding": [
        1070,
        -210,
        700,
        1150
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Prompt",
      "bounding": [
        -880,
        -200,
        450,
        850
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    }
  ],
  "config": {},
  "extra": {
    "groupNodes": {},
    "ds": {
      "scale": 0.3380916604057101,
      "offset": {
        "0": 1369.653564453125,
        "1": 472.810302734375
      }
    }
  },
  "version": 0.4
}